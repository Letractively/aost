#labels Featured,Phase-Implementation
= Tutorial for Tellurium =

== How to use Tellurium ==

There are three ways to use Tellurium. The first one is write your UI modules in different Groovy files, which extends the DslContext class. Then write JUnit test cases. You can also include them in a test suite. 


Starting from Tellurium 0.4.0, JUnit 4.4 is supported. Usually, users only need to extend *TelluriumJavaTestCase* to write Tellurium Tests. The TelluriumJavaTestCase has already included the setUp and tearDown methods in class level using JUnit 4 @BeforeClass and
@AfterClass annotations. If users want to include multiple test cases in one test suite, they should use *BaseTelluriumJavaTestCase* so that all the test cases can share the same Selenium connection. 


The second way is to write Tellurium tests in groovy, users can use *TelluriumGroovyTestCase* for a single test and *TelluriumSuiteGroovyTestCase* for a test suite.


The other way is to write DSL script directly, that is to say, your tests will be pure DSL scripts. This is really suitable for non-developers or QA people. The *DslScriptExecutor* can be used to run the .dsl files.

== Tellurium Configuration ==

Tellurium 0.4.0 comes with a global configuration file, TelluriumConfig.groovy, which
sits in the project root directory and you can change all the settings in this file. If
this file is missing, the framework will use the default settings specified in Groovy classes. Don't be panic by the fact that is a groovy file. It is treated by Tellurium as a text file and will be parsed by the Tellurium configuration manager. Please put this file in the directory you run the test if you want to override the default settings. 

The current configuration includes settings for the embedded server, Selenium connector, and data driven testing. The file is listed as follows:

{{{
tellurium{
    //embedded selenium server configuration
    embeddedserver {
        //port number
        port = "4444"                                     
        //whether to use multiple windows
        useMultiWindows = false
        //whether to run the embedded selenium server. If false, you need to manually set up a selenium server
        runInternally = true
    }
    //the configuration for the connector that connects the selenium client to the selenium server
    connector{
        //server port number the client needs to connect
        port = "4444"
        //base URL
        baseUrl = "http://localhost:8080"
        //Browser setting, valid options are
        //  *firefox [absolute path]
        //  *iexplore [absolute path]
        //  *chrome
        browser = "*chrome"
    }
    datadriven{
        dataprovider{
            //specify which data reader you like the data provider to use
            //the valid options include "PipeFileReader" at this point
            reader = "PipeFileReader"
        }
    }
    test{
        result{
            //specify what result reporter used for the test result
            //valid options include "SimpleResultReporter", "XMLResultReporter", and "StreamXMLResultReporter"
            reporter = "XMLResultReporter"
            //the output of the result
            //valid options include "Console", "File" at this point
            //if the option is "File", you need to specify the file name, other wise it will use the default
            //file name "TestResults.output"
            output = "Console"
            //test result output file name
            filename = "TestResult.output"
        }
    }
}

}}}

== How to setup Tellurium Project in IDE ==

Tellurium Project can be run in IntelliJ, NetBeans, Eclipse, or other IDEs which have Groovy support. The Tellurium project code base has already included IntelliJ project files and NetBeans Project files. 

For IntelliJ users, you simply open the project and overwrite some configurations such as Java Home, Groovy Home, and library path. Then you can compile, run, and test the code. IntelliJ is commercial, but you can download a free trial version for 30 days from http://www.jetbrains.com/idea/download/index.html. 

For NetBeans users, you can find a detailed Guide on [http://code.google.com/p/aost/wiki/TelluriumStarterUsingNetBeans the NetBeans Starters' guide page].

For Eclipse users, you need to download Eclipse Groovy Plugin from http://dist.codehaus.org/groovy/distributions/update/ to run the Tellurium project. 

== Tellurium Trunk Code Structure ==

The trunk holds multiple projects now and the structure is as follows,

{{{
trunk/
     core                 ----- Tellurium core framework project

     extensions/          ----- Extensions to core 
               dojo-widget                   ----- Dojo widget extension project
               extjs-widget                  ----- ExtJS widget extension project (only placeholder here now)
     
     reference-projects/  ----- Projects to demonstrate the usage of tellurium
                       tellurium-junit-java  ----- Tellurium test project using JUnit 4
                       tellurium-testng-java ----- Tellurium test project using TestNG

     tools/firefox-plugin/ ----- Tellurium firefox plugin
                         trump               ---- The Tellurium UI Model Plugin project, which will automatically create tellurium UI modules for you

}}}


== Tellurium Project Code Structure ==

The code structure is as follows,

{{{

src/main              ---------------- Tellurium source code

src/test/             ---------------- Tellurium testing code

        org/tellurium/test  ----------------- Unit tests and functional tests for Tellurium framework itself

        example/
                dsl/        -----------------  DSL testing scripts
                google/     -----------------  Ui modules for Tellurium testing using Google web sites as references
                tellurium/  -----------------  Ui modules for Tellurium testing using Tellurium project web site as a reference

                test/       -----------------  Actual tests
                     ddt/   -----------------  Tellurium Data Driven tests
                     groovy/-----------------  Tellurium Groovy test cases
                     java/  -----------------  Tellurium Java test cases


lib/                 ---------------------- Lib directory including all required jars

build.properties     ---------------------- configuration file for ant build.xml
build.xml            ---------------------- ant build script
rundsl.sh            ---------------------- shell script to run DSL testing scripts in Unix or Linux sytems
rundsl.bat           ---------------------- windows script to run DSL testing scripts
LICENSE.txt          ---------------------- License file
README               ---------------------- Readme file


}}}

== Define multiple UI modules in a single file ==

Tellurium supports multiple UI modules in a single Ui Module file. For example, you can define multiple UI modules as follows:
{{{
//define the menu
//It is fine to use Container to abstract Table if you have special table
ui.Container(uid: "menu", clocator: [tag: "table", id: "mt", trailer: "/tbody/tr/th"], group: "true"){
    //since the actual text is  Project&nbsp;Home, we can useString partial match here. Note "%%" stands for partial match
    UrlLink(uid: "project_home", clocator: [text: "%%Home"])
    UrlLink(uid: "downloads", clocator: [text: "Downloads"])
    UrlLink(uid: "wiki", clocator: [text: "Wiki"])
    UrlLink(uid: "issues", clocator: [text: "Issues"])
    UrlLink(uid: "source", clocator: [text: "Source"])
}

//define the search module, which includes an input box, two search buttons
ui.Form(uid: "search", clocator: [:], group: "true"){
    InputBox(uid: "searchbox", clocator: [name: "q"])
    SubmitButton(uid: "search_project_button", clocator: [value: "Search Projects"])
    SubmitButton(uid: "search_web_button", clocator: [value: "Search the Web"])
}
}}}

== Examples ==

In this tutorial, the following examples are provided:

  # [http://code.google.com/p/aost/wiki/BasicExample Basic Examples], which include Tellurium tests for Google Start Page, Google Code Hosting Page, and Google Book List Page.
  # [http://code.google.com/p/aost/wiki/AdvancedExample Advanced Examples], which use the Tellurium project website as a reference to demonstrate how to write non-trivial and very complicated Tellurium tests in real world.
  # [http://code.google.com/p/aost/wiki/DataDrivenTestingExample Data Driven Testing Examples], which illustrate how to write Tellurium Data Driven tests and walk you through all the details including input, test driving engine, and output.
  # [http://code.google.com/p/aost/wiki/DSLExample DSL Examples]. DSL is a very simple way to write Tellurium tests. The examples include regular Tellurium tests and Tellurium Data Driven tests Written in pure DSL.

== Tellurium Tutorial Series ==

The following toturial series could be found in [http://groups.google.com/group/tellurium-users Tellurium User Group],

  * [http://groups.google.com/group/tellurium-users/browse_thread/thread/84dd00605209952d Tellurium objects and their default attributes]
  * [http://groups.google.com/group/tellurium-users/browse_thread/thread/3533be58a7feb4d3 Tellurium UiDslParser - What is the "ui."]
  * [http://groups.google.com/group/tellurium-users/browse_thread/thread/9c41abd6470cd697 The UID]
  * [http://groups.google.com/group/tellurium-users/browse_thread/thread/fa8cd09c77d44626 Groovy or Java]
  * [http://groups.google.com/group/tellurium-users/browse_thread/thread/51c1ca26e36e5be3 Tellurium configuration]
  * [http://groups.google.com/group/tellurium-users/browse_thread/thread/d5da3660266b31ba What is wrong with Selenium XPath]
  * [http://groups.google.com/group/tellurium-users/browse_thread/thread/28f24fe566c2b089 the "group" attribute]
  * [http://groups.google.com/group/tellurium-users/browse_thread/thread/72a8920c692c2ec5 the secret of the Tellurium runtime XPath]
  * [http://groups.google.com/group/tellurium-users/browse_thread/thread/96a933eb998dbff8 XPath tools]
  * [http://groups.google.com/group/tellurium-users/browse_thread/thread/01c8e068f30cab53 UI module]
  * [http://groups.google.com/group/tellurium-users/browse_thread/thread/db789d42c8796713 Step by Step Guide to create Tellurium UI modules]
  * [http://groups.google.com/group/tellurium-users/browse_thread/thread/5579a536818cf6be the List object]
  * [http://groups.google.com/group/tellurium-users/browse_thread/thread/8e011ff9f1f71393# the power of Tellurium UI templates]     
  * [http://groups.google.com/group/tellurium-users/browse_thread/thread/93fbae75a6d88624 Javascript Events - the "respond" attribute]
  * [http://groups.google.com/group/tellurium-users/browse_thread/thread/71cb407be285c242# HTML Source vs. Runtime HTML Source] 